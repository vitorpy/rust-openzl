# Copyright (c) Meta Platforms, Inc. and affiliates.

# CMake configuration file for openzl
#
# This provides the OpenZL::openzl and OpenZL::openzl_cpp targets, which you
# can depend on by adding it to your target_link_libraries().
#
# It also defines the following variables, although using these directly is not
# necessary if you use the OpenZL::openzl or OpenZL::openzl_cpp target instead.
#  OPENZL_INCLUDE_DIR
#  OPENZL_LIBRARIES

@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

set_and_check(OPENZL_INCLUDE_DIR "@PACKAGE_INCLUDE_INSTALL_DIR@")
set_and_check(OPENZL_CMAKE_DIR "@PACKAGE_CMAKE_INSTALL_DIR@")

# find_dependency() ends up changing PACKAGE_PREFIX_DIR, so save
# openzl's prefix directory in the OPENZL_PREFIX_DIR variable
set(OPENZL_PREFIX_DIR "${PACKAGE_PREFIX_DIR}")

# Include the openzl-targets.cmake file, which is generated from our CMake rules
if (NOT TARGET OpenZL::openzl)
  include("${OPENZL_CMAKE_DIR}/openzl-targets.cmake")
endif()

# Set OPENZL_LIBRARIES from our OpenZL::openzl targets
set(OPENZL_LIBRARIES OpenZL::openzl)
if (TARGET OpenZL::openzl_cpp)
  set(OPENZL_LIBRARIES ${OPENZL_LIBRARIES} OpenZL::openzl_cpp)
endif()

if (NOT openzl_FIND_QUIETLY)
  message(STATUS "Found openzl: ${OPENZL_PREFIX_DIR}")
endif()
